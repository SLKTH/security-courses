\documentclass[Screen16to9,17pt]{foils}
\usepackage{zencurity-slides}
\externaldocument{system-integration-exercises}
\selectlanguage{english}

% Systemintegration

\begin{document}

\mytitlepage
{7. Modern patterns and services:\\ Microservices and REST}
{KEA System Integration}

\slide{This weeks Agenda in system integration}

\begin{list2}
\item Follow the plan:\\
\url{https://zencurity.gitbook.io/kea-it-sikkerhed/system-integration/lektionsplan}
\item Work on the hand-in assignment I: Describe the system environment for an organisation
\item Plan for April 20.\\
I will start with repeating some of the key points from the previous days and exercises.
Then I will go through the planned subjects according to the plan
\item Reading, as announced since beginning of April is still
SOA chapter 6-7, Camel chapter 7,10 which will be the subjects for today
\end{list2}

\slide{Goals for today}

\hlkimage{6cm}{thomas-galler-hZ3uF1-z2Qc-unsplash.jpg}

Todays goals:
\begin{list2}
\item Get back into System Integration
\item Repeat some of the slides and exercises
\item See how applications can run more independently as microservices and REST
\end{list2}

Photo by Thomas Galler on Unsplash


\slide{April 20. Time schedule}
\begin{list2}
\item 08:30 2x 45 min with 10min break\\
 Repeat some of the previous parts, including the exercises I asked you to perform from the exercises booklet:
10. Run PostgreSQL, 11. Why go to SOA, 12. Cloud Computing Introduction, 13. Cloud Deployment
14. Download the Microservices ebook

\item 10:15 2x 45 min with 10min break\\
 Subject Microservices, going over the parts from late march
SOA chapter 6, Camel chapter 7, Microservices for Java chapter 1
We will be working through some of the examples from the Camel book chapter 7 using your Debian with JDK 8. These are running examples of "microservices".

\item 12:30 2x 45min with 10min break \\
Subject REST
SOA chapter 7, Camel chapter 10
We will also be doing small exercises with Python and rest

\item 14:15 Optional 45 min\\
Chatting, doing exercises, questions about Linux, Camel whatever.
Loose and optional, and talking about the  Hand-in assignment I: Describe the system environ-
ment for an organisation.
\end{list2}

So now going back to 6-1-SOABOOK-system-integration.pdf


\slide{Plan for this slide show}

\begin{list2}
\item Modern patterns and services
\item Microservices
\item REST
\end{list2}

Exercises
\begin{list2}
\item Mostly talking about the concepts, the Camelbook apps and services\\
- since running the examples may prove difficult, and the concepts are more important than getting a small example running.
\end{list2}



\slide{Reading Summary}

\begin{list1}
\item Microservices for Java chapter 1
\item SOA chapter 6: Analysis and Modeling with Web Services and Microservices
\item Camel book chapter 7: Microservices
\vskip 1cm

\end{list1}

Camel in action, Claus Ibsen and Jonathan Anstey, 2018
ISBN: 978-1-61729-293-4

Service‑Oriented Architecture: Analysis and Design for Services and Microservices, Thomas Erl, 2017
ISBN: 978-0-13-385858-7

Yes, there is overlap and the same subjects from different angles. Consider the SOA book a theoretical book, the Camel book a proof of concept, and the Java book as a real-life example from people that have done this in production

\slide{Microservices for Java chapter 1}

\hlkimage{3cm}{microservices-for-java-developers.jpg}

Microservices for Java Developers , Christian Posta, 2016 O’Reilly\\
 \link{https://www.oreilly.com/programming/free/files/microservices-for-java-developers.pdf}

We will use the introduction, which is recommended.

\slide{Whats in the book}

\begin{quote}
This book is for Java developers and architects interested in developing microservices. We start the book with the high-level understanding and fundamental prerequisites that should be in place to be successful with a microservice architecture.
\end{quote}

Introducing some Java frameworks
\begin{list2}
\item The Spring ecosystem, Dropwizard and WildFly Swarm, we’ll use JBoss Forge CLI
\item Finally, when we build and deploy our microservices as Docker containers running inside of Kubernetes
\item They use VirtualBox with Docker and Kubernetes, YMMV
\item With source on Github, not updated in 4 years though!\\
\link{https://github.com/redhat-developer/microservices-by-example-source}
\end{list2}
Source: {\footnotesize\\
Microservices for Java Developers , Christian Posta, 2016 O’Reilly}



\slide{Open source is also leading the charge in the technology space}

\begin{quote}\small
Open source is also leading the charge in the technology space. Following the commoditization curves, open source is a place developers can go to challenge proprietary vendors by building and
  innovating on software that was once only available (without source
  no less) with high license costs. This drives communities to build
  things like operating systems (Linux), programming languages (Go),
  message queues (Apache ActiveMQ), and web servers ( httpd ). Even
  companies that originally rejected open source are starting to come
  around by open sourcing their technologies and contributing to
  existing communities. As open source and open ecosystems have
  become the norm, we’re starting to see a lot of the innovation in
  software technology coming directly from open source communities
  (e.g., Apache Spark, Docker, and Kubernetes).
\end{quote}

\begin{list2}
\item We have used Linux and multiple products from the Apache website/foundation
\end{list2}
Source: {\footnotesize\\
Microservices for Java Developers , Christian Posta, 2016 O’Reilly}




\slide{Building distributed systems is hard}

\hlkimage{8cm}{microservices-java-book.png}

\begin{quote}\small
  Microservice architecture (MSA) is an approach to building software systems that decomposes business domain models into smaller,
  consistent, bounded-contexts implemented by services. These services are isolated and autonomous yet communicate to provide some
  piece of business functionality. Microservices are typically implemented and operated by small teams with enough autonomy that
  each team and service can change its internal implementation
  details (including replacing it outright!) with minimal impact across
  the rest of the system.
\end{quote}

Source: {\footnotesize\\
Microservices for Java Developers , Christian Posta, 2016 O’Reilly}





\slide{Teamwork}


\begin{list2}
\item Teams communicate through promises
\item specify these promises with interfaces
of their services and via wikis that document their services
\item Each team would be responsible for designing the service, picking
the right technology for the problem set, and deploying, managing
and waking up at 2 a.m. for any issues
\item Understand what the service is doing without being tangled into
other concerns in a larger application
\item Quickly build the service locally
\item Pick the right technology for the problem (lots of writes? lots of
queries? low latency? bursty?)
\item Test the service
\item Build/deploy/release at a cadence necessary for the business,
which may be independent of other services
\item Identify and horizontally scale parts of the architecture where
needed
\item Improve resiliency of the system as a whole



\end{list2}
Source: {\footnotesize\\
Microservices for Java Developers , Christian Posta, 2016 O’Reilly}




\slide{Challenges}

\begin{list2}
\item Microservices may not be efficient. It can be more resource intensive.
\item You may end up with
what looks like duplication.
\item Operational complexity is a lot higher.
\item It becomes very difficult to understand the system holistically.
\item It becomes significantly harder to debug problems.
\item In some areas you may have to relax the notion of transaction.
\end{list2}
Source: {\footnotesize\\
Microservices for Java Developers , Christian Posta, 2016 O’Reilly}




\slide{Design for Faults}

\begin{quote}
  Things will fail, so we must develop our applications to be resilient and handle failure, not just prevent it. We should
  be able to deal with faults gracefully and not let faults propagate to
  total failure of the system.

  Building distributed systems is different from building shared-
memory, single process, monolithic applications. One glaring differ‐
ence is that communication over a network is not the same as a local
call with shared memory.
\end{quote}

\begin{list2}
\item Networks are inherently unreliable
\end{list2}
Source: {\footnotesize\\
Microservices for Java Developers , Christian Posta, 2016 O’Reilly}


\slide{Design with Dependencies in Mind}

\begin{quote}
  To be able to move fast and be agile from an organization or
  distributed-systems standpoint, we have to design systems with
  dependency thinking in mind; we need loose coupling in our teams,
  in our technology, and our governance.
\end{quote}

Source: {\footnotesize\\
Microservices for Java Developers , Christian Posta, 2016 O’Reilly}



\slide{Design with Promises in Mind}

\begin{quote}
  In a microservice environment with autonomous teams and serv‐
  ices, it’s very important to keep in mind the relationship between
  service provider and service consumer. As an autonomous service
  team, you cannot place obligations on other teams and services
  because you do not own them; they’re autonomous by definition. All
  you can do is choose whether or not to accept their promises of
  functionality or behavior. As a provider of a service to others, all you
  can do is promise them a certain behavior.
\end{quote}

\begin{list2}
\item Promises as published by APIs and versions in those!
\item References \emph{Consumer-Driven Contracts: A Service Evolution Pattern}\\
\link{https://martinfowler.com/articles/consumerDrivenContracts.html}
\end{list2}
Source: {\footnotesize\\
Microservices for Java Developers , Christian Posta, 2016 O’Reilly}





\slide{SOA chapter 6:}
Analysis and Modeling with Web Services and Microservices

\begin{quote}
This chapter provides a detailed step-by-step process for modeling Web service candidates.

6.1 Web Service Modeling Process
\end{quote}

\begin{list2}
\item Chapter goes through the steps of a service modelling process
\item End result is utility service, microservices and non-agnostic services - process specific logic
\end{list2}
Source: {\footnotesize\\
\emph{Service‑Oriented Architecture: Analysis and Design for Services and Microservices}, Thomas Erl, 2017}


\slide{Step 9: Define Microservice Candidates}

\begin{quote}
  As discussed in Chapter 4, the microservice model can introduce a highly
  independent and autonomous service implementation architecture that can be suitable
  for units of logic with particular processing demands.
\end{quote}

Typical considerations can include:
\begin{list2}
\item Increased autonomy requirements
\item Specific runtime performance requirements
\item Specific runtime reliability or failover requirements
\item Specific service versioning and deployment requirements
\end{list2}
Source: {\footnotesize\\
\emph{Service‑Oriented Architecture: Analysis and Design for Services and Microservices}, Thomas Erl, 2017}

\slide{The revised service composition candidate}

\hlkimage{10cm}{soabook-6-12-service-composition.png}

Source: {\footnotesize\\
\emph{Service‑Oriented Architecture: Analysis and Design for Services and Microservices}, Thomas Erl, 2017}



\slide{Camel book chapter 7: Microservices}

\begin{quote}
Camel is ideal for building microservice applications, which is the topic of
chapter 7. The chapter has many examples that demonstrate how to use Camel
with popular microservice runtimes such as Spring Boot and WildFly Swarm.
\end{quote}

Source: {\footnotesize\\
\emph{Camel in action}, Claus Ibsen and Jonathan Anstey, 2018}



\slide{7.2 Running Camel microservices}

\begin{quote}
  Which microservice runtimes does Camel support? The answer is all of them. Camel is
  just a library you include in the JVM runtime, and it runs anywhere. This section walks
  you through running Camel in some of the most popular microservice runtimes:
\end{quote}

\begin{list2}
\item Standalone Running just Camel
\item CDI-Running Camel with CDI
\item WildFly Swarm-We’s see how Camel runs with the lightweight Java EE server
\item Spring Boot-Running Camel with Spring Boot
\end{list2}

Source: {\footnotesize\\
\emph{Camel in action}, Claus Ibsen and Jonathan Anstey, 2018}




\slidenext

\end{document}
